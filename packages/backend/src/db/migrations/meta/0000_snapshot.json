{
  "id": "6838dede-9371-4434-a8f4-af4c0b77ce5a",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.employee_documents": {
      "name": "employee_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "invalidated_at": {
          "name": "invalidated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "employee_documents_employee_id_employees_id_fk": {
          "name": "employee_documents_employee_id_employees_id_fk",
          "tableFrom": "employee_documents",
          "tableTo": "employees",
          "columnsFrom": ["employee_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "employee_documents_uploaded_by_employees_id_fk": {
          "name": "employee_documents_uploaded_by_employees_id_fk",
          "tableFrom": "employee_documents",
          "tableTo": "employees",
          "columnsFrom": ["uploaded_by"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.employees": {
      "name": "employees",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_supervisor": {
          "name": "is_supervisor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "employee_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "failed_login_attempts": {
          "name": "failed_login_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "employees_email_unique": {
          "name": "employees_email_unique",
          "nullsNotDistinct": false,
          "columns": ["email"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_code_rates": {
      "name": "task_code_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_code_id": {
          "name": "task_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "hourly_rate": {
          "name": "hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "justification_notes": {
          "name": "justification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "task_code_rates_task_code_id_task_codes_id_fk": {
          "name": "task_code_rates_task_code_id_task_codes_id_fk",
          "tableFrom": "task_code_rates",
          "tableTo": "task_codes",
          "columnsFrom": ["task_code_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_codes": {
      "name": "task_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_agricultural": {
          "name": "is_agricultural",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_hazardous": {
          "name": "is_hazardous",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "supervisor_required": {
          "name": "supervisor_required",
          "type": "supervisor_required",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "solo_cash_handling": {
          "name": "solo_cash_handling",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "driving_required": {
          "name": "driving_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "power_machinery": {
          "name": "power_machinery",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_age_allowed": {
          "name": "min_age_allowed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 12
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "task_codes_code_unique": {
          "name": "task_codes_code_unique",
          "nullsNotDistinct": false,
          "columns": ["code"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.timesheet_entries": {
      "name": "timesheet_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_date": {
          "name": "work_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "task_code_id": {
          "name": "task_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "hours": {
          "name": "hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "is_school_day": {
          "name": "is_school_day",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "school_day_override_note": {
          "name": "school_day_override_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor_present_name": {
          "name": "supervisor_present_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meal_break_confirmed": {
          "name": "meal_break_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "timesheet_entries_timesheet_id_timesheets_id_fk": {
          "name": "timesheet_entries_timesheet_id_timesheets_id_fk",
          "tableFrom": "timesheet_entries",
          "tableTo": "timesheets",
          "columnsFrom": ["timesheet_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "timesheet_entries_task_code_id_task_codes_id_fk": {
          "name": "timesheet_entries_task_code_id_task_codes_id_fk",
          "tableFrom": "timesheet_entries",
          "tableTo": "task_codes",
          "columnsFrom": ["task_code_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.timesheets": {
      "name": "timesheets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "week_start_date": {
          "name": "week_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "timesheet_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor_notes": {
          "name": "supervisor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "timesheets_employee_id_employees_id_fk": {
          "name": "timesheets_employee_id_employees_id_fk",
          "tableFrom": "timesheets",
          "tableTo": "employees",
          "columnsFrom": ["employee_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "timesheets_reviewed_by_employees_id_fk": {
          "name": "timesheets_reviewed_by_employees_id_fk",
          "tableFrom": "timesheets",
          "tableTo": "employees",
          "columnsFrom": ["reviewed_by"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_check_logs": {
      "name": "compliance_check_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rule_id": {
          "name": "rule_id",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "compliance_result",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "checked_at": {
          "name": "checked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "employee_age_on_date": {
          "name": "employee_age_on_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "compliance_check_logs_timesheet_id_timesheets_id_fk": {
          "name": "compliance_check_logs_timesheet_id_timesheets_id_fk",
          "tableFrom": "compliance_check_logs",
          "tableTo": "timesheets",
          "columnsFrom": ["timesheet_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payroll_records": {
      "name": "payroll_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "agricultural_hours": {
          "name": "agricultural_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "agricultural_earnings": {
          "name": "agricultural_earnings",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "non_agricultural_hours": {
          "name": "non_agricultural_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "non_agricultural_earnings": {
          "name": "non_agricultural_earnings",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "overtime_hours": {
          "name": "overtime_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "overtime_earnings": {
          "name": "overtime_earnings",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "total_earnings": {
          "name": "total_earnings",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "exported_at": {
          "name": "exported_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payroll_records_timesheet_id_timesheets_id_fk": {
          "name": "payroll_records_timesheet_id_timesheets_id_fk",
          "tableFrom": "payroll_records",
          "tableTo": "timesheets",
          "columnsFrom": ["timesheet_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "payroll_records_employee_id_employees_id_fk": {
          "name": "payroll_records_employee_id_employees_id_fk",
          "tableFrom": "payroll_records",
          "tableTo": "employees",
          "columnsFrom": ["employee_id"],
          "columnsTo": ["id"],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payroll_records_timesheet_id_unique": {
          "name": "payroll_records_timesheet_id_unique",
          "nullsNotDistinct": false,
          "columns": ["timesheet_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.compliance_result": {
      "name": "compliance_result",
      "schema": "public",
      "values": ["pass", "fail", "not_applicable"]
    },
    "public.document_type": {
      "name": "document_type",
      "schema": "public",
      "values": ["parental_consent", "work_permit", "safety_training"]
    },
    "public.employee_status": {
      "name": "employee_status",
      "schema": "public",
      "values": ["active", "archived"]
    },
    "public.supervisor_required": {
      "name": "supervisor_required",
      "schema": "public",
      "values": ["none", "for_minors", "always"]
    },
    "public.timesheet_status": {
      "name": "timesheet_status",
      "schema": "public",
      "values": ["open", "submitted", "approved", "rejected"]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
