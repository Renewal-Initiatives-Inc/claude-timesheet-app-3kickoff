# Root Environment Variables
# Copy this file to .env.local and fill in the values

# ===========================================
# ENVIRONMENT
# ===========================================
# Set to 'development' for local, 'production' for Vercel
NODE_ENV=development

# ===========================================
# DATABASE (PostgreSQL)
# ===========================================
# Option 1: Local PostgreSQL via Homebrew
#   brew install postgresql@16
#   brew services start postgresql@16
#   createdb renewal_dev
#   DATABASE_URL=postgresql://localhost:5432/renewal_dev

# Option 2: Vercel Postgres (get connection string from Vercel dashboard)
# Production should use the pooler endpoint: postgres://...@...-pooler.vercel-storage.com/verceldb
DATABASE_URL=postgresql://user:password@localhost:5432/renewal_dev

# ===========================================
# AUTHENTICATION
# ===========================================
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# IMPORTANT: Use different secrets for development and production!
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-64-chars
JWT_EXPIRES_IN=7d

# ===========================================
# EMAIL (Postmark)
# ===========================================
# Optional in development (emails logged to console)
# Required in production for password reset and notifications
# POSTMARK_API_KEY=your-postmark-server-token
EMAIL_FROM=noreply@renewalinitiatives.org

# ===========================================
# PASSWORD & ACCOUNT SECURITY
# ===========================================
# Password reset token lifetime (hours)
PASSWORD_RESET_EXPIRES_HOURS=24

# Account lockout after failed login attempts
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# ===========================================
# APPLICATION URLs
# ===========================================
# URL for password reset links (your frontend URL)
APP_URL=http://localhost:5173

# Frontend URL for CORS configuration
# In production, set to your Vercel domain: https://your-app.vercel.app
FRONTEND_URL=http://localhost:5173

# ===========================================
# DOCUMENT STORAGE (Vercel Blob)
# ===========================================
# Required for document upload in production
# Get from Vercel Dashboard -> Storage -> Blob
# BLOB_READ_WRITE_TOKEN=your-vercel-blob-token

# ===========================================
# CRON JOB SECURITY
# ===========================================
# Required for Vercel cron jobs (alerts check)
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRON_SECRET=your-cron-secret-here

# ===========================================
# LOGGING (Optional)
# ===========================================
# Log level: debug, info, warn, error
# LOG_LEVEL=info

# ===========================================
# PRODUCTION CHECKLIST
# ===========================================
# Before deploying to production, ensure:
# [ ] DATABASE_URL points to production database (with pooler)
# [ ] JWT_SECRET is unique 64+ character production secret
# [ ] POSTMARK_API_KEY is set for production server
# [ ] APP_URL and FRONTEND_URL are production domains
# [ ] CRON_SECRET is set (32+ characters)
# [ ] BLOB_READ_WRITE_TOKEN is set for document storage
# [ ] NODE_ENV is set to 'production'
